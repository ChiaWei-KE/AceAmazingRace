@using AceAmazingRace.Models
@model AceAmazingRace.ViewModels.TeamViewModel
@{
    string header = "";
    string submitButtonText = "";

    if (@Model.UserAction == "Create") {
        header = "Create New Team";
        submitButtonText = "Create";
    }
    else if (@Model.UserAction == "Edit") {
        header = "Update Team";
        submitButtonText = "Save";
    }

    ViewBag.Title = @header;
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<h3>@header</h3>

@using (@Html.BeginForm("Save", "Team", new { eventId = @Model.RaceEventId, userAction = @Model.UserAction })) {

    <div class="form-group">
        @Html.LabelFor(e => e.Team.Name)
        @Html.TextBoxFor(e => e.Team.Name, new { @class = "form-control" })
        @Html.ValidationMessageFor(e => e.Team.Name)
    </div>

    <div class="form-group">
        @Html.LabelFor(e => e.Team.Profile)
        @Html.TextBoxFor(e => e.Team.Profile, new { @class = "form-control" })
        @Html.ValidationMessageFor(e => e.Team.Profile)
    </div>

    @Html.HiddenFor(e => e.Team.Id)

    <button type="submit" class="btn btn-primary">@submitButtonText</button>
    <a class="btn btn-primary" href="@Url.Action("Index","Team", new {id = @Model.RaceEventId})">Cancel</a>
}

